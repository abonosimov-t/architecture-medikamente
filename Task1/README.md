# Задание 1
## 1 Data Flow Diagrams AS-IS

### DFD 0-го уровня
![Data Flow Diagram. Уровень 0](dfd-0.svg)

### DFD: регистрация пациента
![Data Flow Diagram. Регистрация пацинета](dfd-registration.svg)

### DFD: приём пациента
![Data Flow Diagram. Приём пацинета](dfd-appointment.svg)

### DFD: платжёные операции
![Data Flow Diagram. платёжные опреации](dfd-payment.svg)


## 2 Аудит мер по обеспечению безопасности данных

### 1. Анализ текущего состояния
#### 1.1 Хранение данных
- **Проблема**: Данные хранятся в различных форматах и системах (Excel, 1С, файловый сервер)
- **Риск**: Высокий - отсутствие централизованного хранения и контроля доступа
- **Последствия**: 
  - Сложность аудита доступа
  - Риск несанкционированного доступа
  - Отсутствие шифрования данных

#### 1.2 Обработка персональных данных
- **Проблема**: Отсутствие четкого разделения данных по категориям конфиденциальности
- **Риск**: Высокий - нарушение требований 152-ФЗ
- **Последствия**:
  - Штрафы от регуляторов
  - Репутационные потери
  - Судебные иски

#### 1.3 Доступ к данным
- **Проблема**: Отсутствие системы управления доступом (RBAC/ABAC)
- **Риск**: Высокий - неконтролируемый доступ к конфиденциальным данным
- **Последствия**:
  - Утечки данных
  - Нарушение конфиденциальности
  - Отсутствие аудита действий

### 2. Проблемные зоны по процессам

#### 2.1 Процесс регистрации пациента
- Отсутствие шифрования при передаче персональных данных
- Хранение данных на общем диске без разграничения доступа
- Отсутствие механизма верификации данных
- Нет системы логирования действий с данными

#### 2.2 Процесс обработки медицинских данных
- Отсутствие защиты медицинских карт
- Небезопасное хранение сканов документов
- Отсутствие контроля доступа к результатам анализов
- Нет защиты данных при передаче в лабораторию
- Нет системы мониторинга утечек данных

#### 2.3 Процесс обработки платежей
- Отсутствие защиты финансовых данных
- Небезопасная интеграция с ККМ
- Отсутствие шифрования при передаче данных в 1С
- Нет системы мониторинга подозрительных операций


## 3План защиты данных 

### 1. Классификация данных и методы защиты

#### 1.1 Персональные данные
| Тип данных | Метод защиты | Инструменты | Уровень защиты |
|------------|--------------|-------------|----------------|
| ФИО | Шифрование | AES-256 | Высокий |
| Паспортные данные | Шифрование + Обезличивание | AES-256 + Data Masking | Критический |
| Контактные данные | Шифрование | AES-256 | Высокий |
| Адрес | Шифрование | AES-256 | Высокий |
| История болезни | Шифрование + Обезличивание | AES-256 + Data Masking | Критический |

#### 1.2 Медицинские данные
| Тип данных | Метод защиты | Инструменты | Уровень защиты |
|------------|--------------|-------------|----------------|
| Диагнозы | Шифрование + Обезличивание | AES-256 + Data Masking | Критический |
| Результаты анализов | Шифрование | AES-256 | Высокий |
| Медицинские карты | Шифрование + Обезличивание | AES-256 + Data Masking | Критический |
| Назначения | Шифрование | AES-256 | Высокий |

#### 1.3 Финансовые данные
| Тип данных | Метод защиты | Инструменты | Уровень защиты |
|------------|--------------|-------------|----------------|
| Данные платежей | Шифрование + Обезличивание | AES-256 + Data Masking | Критический |
| Чеки | Шифрование | AES-256 | Высокий |
| Счета | Шифрование | AES-256 | Высокий |

### 2. Механизм тегирования данных

#### 2.1 Теги конфиденциальности
- `CONFIDENTIAL` - конфиденциальные данные
- `RESTRICTED` - данные ограниченного доступа
- `INTERNAL` - внутренние данные
- `PUBLIC` - публичные данные

#### 2.2 Теги категорий
- `PII` - персональные данные
- `PHI` - медицинские данные
- `FIN` - финансовые данные
- `DOC` - документы

#### 2.3 Теги обработки
- `ENCRYPT` - требует шифрования
- `MASK` - требует обезличивания
- `AUDIT` - требует аудита
- `BACKUP` - требует резервного копирования

### 3. Инструменты и меры защиты

#### 3.1 Шифрование
- **В покое**: 
  - PostgreSQL с pgcrypto
  - Transparent Data Encryption (TDE)
  - FileVault для macOS
  - BitLocker для Windows

- **При передаче**:
  - TLS 1.3
  - SSH
  - VPN
  - Криптографические протоколы

#### 3.2 Обезличивание
- **Статические методы**:
  - Data Masking
  - Tokenization
  - Pseudonymization

- **Динамические методы**:
  - Dynamic Data Masking
  - Real-time Data Masking
  
  
  ### 4. Data Flow Digrams TO BE

#### DFD: регистрация пациента
![Data Flow Diagram. Регистрация пацинета](dfd-to-be-registration.svg)

#### DFD: приём пациента
![Data Flow Diagram. Приём пацинета](dfd-to-be-appointment.svg)

#### DFD: платжёные операции
![Data Flow Diagram. платёжные опреации](dfd-to-be-payment.svg)
